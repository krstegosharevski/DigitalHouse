
<div class="card" >
    <div class="card-body text-center">
      <h5 class="card-title">{{ product!.name }}</h5>
      <p class="text-muted">{{ product!.brandName }}</p>
    </div>
    <img [src]="product.photoUrl" class="card-img-top" alt="Product Image" (click)="toggleDetails()">
    
    <div class="card-body text-center">
      <p class="text-muted">{{ product.price }} MKD</p>
      <div class="stock-status">
        <span [class.text-success]="product.isPresent" [class.text-danger]="!product.isPresent">
          {{ product.isPresent ? 'In Stock' : 'Out of Stock' }}
        </span>
      </div>
      <button class="btn btn-primary" [disabled]="!product.isPresent">
        Add to Cart
      </button>
    
      <button *appHasRole="['Admin']" class="btn btn text-success px-2" (click)="rutiraj(this.product.id)">
        Edit Product
      </button>
    </div>
  </div>
  
  <!-- Product Details Modal -->
  <div class="product-modal" *ngIf="showDetails" (click)="toggleDetails()">
    <div class="modal-content  " (click)="$event.stopPropagation()">
      <div class="modal-header text-center">
        <h4>{{ product.name }}</h4>
        <button type="button" class="close-btn" (click)="toggleDetails()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <img [src]="product.photoUrl" class="img-fluid" alt="Product Image">
          </div>
          <div class="col-md-6">

            <div class="description">
              <h5>Details:</h5>
              <h6>{{ product.description }}</h6>
            </div>
            <br>
            <h5>Colors:</h5>
            <div class="colors">
              <button 
                *ngFor="let color of product.colors" 
                class="color-button" 
                [style.backgroundColor]="color"
                
                [attr.title]="color">
              </button>
            </div>
            
            <p class="price">{{ product.price }} MKD</p>
            <div class="stock-status mb-3">
              <span [class.text-success]="product.isPresent" [class.text-danger]="!product.isPresent">
                {{ product.isPresent ? 'In Stock' : 'Out of Stock' }}
              </span>
            </div>
            <button class="btn btn-primary mt-3" [disabled]="!product.isPresent">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>